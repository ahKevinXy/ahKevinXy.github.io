"use strict";(self.webpackChunkah_kevin_xy=self.webpackChunkah_kevin_xy||[]).push([[98477],{1351:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var c=r(74848),d=r(28453);const o={},s="docker \u57fa\u7840\u77e5\u8bc6",a={id:"backend/docker/base",title:"docker \u57fa\u7840\u77e5\u8bc6",description:"docker \u5b89\u88c5",source:"@site/docs/backend/docker/base.md",sourceDirName:"backend/docker",slug:"/backend/docker/base",permalink:"/docs/backend/docker/base",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"docker",permalink:"/docs/backend/docker/"},next:{title:"docker \u5e38\u89c1\u5e94\u7528\u5b89\u88c5",permalink:"/docs/backend/docker/install"}},i={},l=[{value:"docker \u5b89\u88c5",id:"docker-\u5b89\u88c5",level:2},{value:"ubuntu \u5b89\u88c5docker",id:"ubuntu-\u5b89\u88c5docker",level:3},{value:"\u5378\u8f7d\u5386\u53f2\u7248\u672cdocker",id:"\u5378\u8f7d\u5386\u53f2\u7248\u672cdocker",level:2},{value:"\u6e05\u7a7adocker \u65e5\u5fd7",id:"\u6e05\u7a7adocker-\u65e5\u5fd7",level:2},{value:"docker \u65e5\u5fd7",id:"docker-\u65e5\u5fd7",level:2},{value:"docker ubuntu \u514d sudo",id:"docker-ubuntu-\u514d-sudo",level:2},{value:"docker \u4fee\u6539\u65f6\u533a",id:"docker-\u4fee\u6539\u65f6\u533a",level:2},{value:"docker\u5df2\u8fd0\u884c\u5bb9\u5668\u91cc\u7684\u65f6\u533a\u4fee\u6539",id:"docker\u5df2\u8fd0\u884c\u5bb9\u5668\u91cc\u7684\u65f6\u533a\u4fee\u6539",level:3},{value:"\u5f00\u542f\u81ea\u52a8\u542f\u52a8",id:"\u5f00\u542f\u81ea\u52a8\u542f\u52a8",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"docker-\u57fa\u7840\u77e5\u8bc6",children:"docker \u57fa\u7840\u77e5\u8bc6"}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u5b89\u88c5",children:"docker \u5b89\u88c5"}),"\n",(0,c.jsx)(n.h3,{id:"ubuntu-\u5b89\u88c5docker",children:"ubuntu \u5b89\u88c5docker"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun # \u963f\u91cc\u955c\u50cf\u5b89\u88c5\n\ncurl -sSL https://get.daocloud.io/docker | sh #\u56fd\u5185 daocloud \u4e00\u952e\u5b89\u88c5\u547d\u4ee4\n\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u5378\u8f7d\u5386\u53f2\u7248\u672cdocker",children:"\u5378\u8f7d\u5386\u53f2\u7248\u672cdocker"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"sudo apt-get autoremove docker docker-engine docker.io containerd runc\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u6e05\u7a7adocker-\u65e5\u5fd7",children:"\u6e05\u7a7adocker \u65e5\u5fd7"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\nrm $(docker inspect $1 | grep -G \'"LogPath": "*"\' | sed -e \'s/.*"LogPath": "//g\' | sed -e \'s/",//g\');\n\n'})}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u65e5\u5fd7",children:"docker \u65e5\u5fd7"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker logs --since 30s -f <container_name_or_id> # \u9650\u5236\u65f6\u95f4\ndocker logs --tail 20 -f <container_name_or_id> # \u884c\u6570\n\n\n"})}),"\n",(0,c.jsx)(n.h2,{id:"docker-ubuntu-\u514d-sudo",children:"docker ubuntu \u514d sudo"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"\n    sudo usermod -aG docker username\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u5982\u679c\u4e0d\u751f\u6548 \u91cd\u542f docker \u6216\u8005 \u670d\u52a1\u5668"}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"docker-\u4fee\u6539\u65f6\u533a",children:"docker \u4fee\u6539\u65f6\u533a"}),"\n",(0,c.jsx)(n.h3,{id:"docker\u5df2\u8fd0\u884c\u5bb9\u5668\u91cc\u7684\u65f6\u533a\u4fee\u6539",children:"docker\u5df2\u8fd0\u884c\u5bb9\u5668\u91cc\u7684\u65f6\u533a\u4fee\u6539"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'\nln -sf /usr/share/zoneinfo/Asia/Shanghai    /etc/localtime\n\u6216\u8005\ncp /usr/share/zoneinfo/Asia/Shanghai    /etc/localtime\n\u91cd\u542f\u5bb9\u5668\u5373\u53ef\n\n # \u521b\u5efa\u5e76\u8fd0\u884c\u5bb9\u5668\uff0c\u901a\u8fc7 -e TZ="Asia/Shanghai" \u8bbe\u7f6e\u65f6\u533a\n docker run -e TZ="Asia/Shanghai" -d -p 80:80 --name nginx nginx\n\n'})}),"\n",(0,c.jsx)(n.h2,{id:"\u5f00\u542f\u81ea\u52a8\u542f\u52a8",children:"\u5f00\u542f\u81ea\u52a8\u542f\u52a8"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"\n# \u521b\u5efa\ndocker run -d --restart=always\n# \u66f4\u65b0\u5df2\u6709\ndocker update --restart=always \u5bb9\u5668ID\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var c=r(96540);const d={},o=c.createContext(d);function s(e){const n=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);