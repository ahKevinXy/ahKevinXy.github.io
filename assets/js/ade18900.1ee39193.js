"use strict";(self.webpackChunkah_kevin_xy=self.webpackChunkah_kevin_xy||[]).push([[33719],{87871:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=t(74848),a=t(28453);const i={},o="\u5de5\u5177",l={id:"front/js/code/utils",title:"\u5de5\u5177",description:"\u5224\u65ad\u6587\u4ef6\u4e0a\u4f20\u7684\u7c7b\u578b",source:"@site/docs/front/js/code/utils.md",sourceDirName:"front/js/code",slug:"/front/js/code/utils",permalink:"/docs/front/js/code/utils",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u4ee3\u7801\u7247\u6bb5",permalink:"/docs/front/js/code/"},next:{title:"\u5b98\u65b9\u6587\u6863",permalink:"/docs/front/js/official"}},d={},s=[{value:"\u5224\u65ad\u6587\u4ef6\u4e0a\u4f20\u7684\u7c7b\u578b",id:"\u5224\u65ad\u6587\u4ef6\u4e0a\u4f20\u7684\u7c7b\u578b",level:2},{value:"\u6839\u636e\u5f53\u524d\u65f6\u95f4\u83b7\u53d6\u5f53\u6708\u76841\u53f7\u548c\u6700\u540e\u4e00\u53f7",id:"\u6839\u636e\u5f53\u524d\u65f6\u95f4\u83b7\u53d6\u5f53\u6708\u76841\u53f7\u548c\u6700\u540e\u4e00\u53f7",level:2},{value:"\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u7684\u5468\u4e00\u3001\u5468\u672b\u7684\u65e5\u671f",id:"\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u7684\u5468\u4e00\u5468\u672b\u7684\u65e5\u671f",level:2},{value:"\u6587\u4ef6\u4e0b\u8f7d (\u75db\u75bc\u6211\u5341\u51e0\u5e74)",id:"\u6587\u4ef6\u4e0b\u8f7d-\u75db\u75bc\u6211\u5341\u51e0\u5e74",level:2}];function m(e){const n={code:"code",h1:"h1",h2:"h2",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u5de5\u5177",children:"\u5de5\u5177"}),"\n",(0,r.jsx)(n.h2,{id:"\u5224\u65ad\u6587\u4ef6\u4e0a\u4f20\u7684\u7c7b\u578b",children:"\u5224\u65ad\u6587\u4ef6\u4e0a\u4f20\u7684\u7c7b\u578b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'/**\n * @param: fileName - \u6587\u4ef6\u540d\u79f0\n * @param: \u6570\u636e\u8fd4\u56de 1) \u65e0\u540e\u7f00\u5339\u914d - false\n * @param: \u6570\u636e\u8fd4\u56de 2) \u5339\u914d\u56fe\u7247 - image\n * @param: \u6570\u636e\u8fd4\u56de 3) \u5339\u914d txt - txt\n * @param: \u6570\u636e\u8fd4\u56de 4) \u5339\u914d excel - excel\n * @param: \u6570\u636e\u8fd4\u56de 5) \u5339\u914d word - word\n * @param: \u6570\u636e\u8fd4\u56de 6) \u5339\u914d pdf - pdf\n * @param: \u6570\u636e\u8fd4\u56de 7) \u5339\u914d ppt - ppt\n * @param: \u6570\u636e\u8fd4\u56de 8) \u5339\u914d \u89c6\u9891 - video\n * @param: \u6570\u636e\u8fd4\u56de 9) \u5339\u914d \u97f3\u9891 - radio\n * @param: \u6570\u636e\u8fd4\u56de 10) \u5176\u4ed6\u5339\u914d\u9879 - other\n * @author: ljw\n **/\n\nexport function fileSuffixTypeUtil(fileName){\n      // \u540e\u7f00\u83b7\u53d6\n    var suffix = "";\n    // \u83b7\u53d6\u7c7b\u578b\u7ed3\u679c\n    var result = "";\n    try {\n      var flieArr = fileName.split(".");\n      suffix = flieArr[flieArr.length - 1];\n    } catch (err) {\n      suffix = "";\n    }\n    // fileName\u65e0\u540e\u7f00\u8fd4\u56de false\n    if (!suffix) {\n      result = false;\n      return result;\n    }\n    // \u56fe\u7247\u683c\u5f0f\n    var imglist = ["png", "jpg", "jpeg", "bmp", "gif"];\n    // \u8fdb\u884c\u56fe\u7247\u5339\u914d\n    result = imglist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "image";\n      return result;\n    }\n    // \u5339\u914dtxt\n    var txtlist = ["txt"];\n    result = txtlist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "txt";\n      return result;\n    }\n    // \u5339\u914d excel\n    var excelist = ["xls", "xlsx"];\n    result = excelist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "excel";\n      return result;\n    }\n    // \u5339\u914d word\n    var wordlist = ["doc", "docx"];\n    result = wordlist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "word";\n      return result;\n    }\n    // \u5339\u914d pdf\n    var pdflist = ["pdf"];\n    result = pdflist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "pdf";\n      return result;\n    }\n    // \u5339\u914d ppt\n    var pptlist = ["ppt"];\n    result = pptlist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "ppt";\n      return result;\n    }\n    // \u5339\u914d \u89c6\u9891\n    var videolist = ["mp4", "m2v", "mkv"];\n    result = videolist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "video";\n      return result;\n    }\n    // \u5339\u914d \u97f3\u9891\n    var radiolist = ["mp3", "wav", "wmv"];\n    result = radiolist.some(function (item) {\n      return item == suffix;\n    });\n    if (result) {\n      result = "radio";\n      return result;\n    }\n    // \u5176\u4ed6 \u6587\u4ef6\u7c7b\u578b\n    result = "other";\n    return result;\n};\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6839\u636e\u5f53\u524d\u65f6\u95f4\u83b7\u53d6\u5f53\u6708\u76841\u53f7\u548c\u6700\u540e\u4e00\u53f7",children:"\u6839\u636e\u5f53\u524d\u65f6\u95f4\u83b7\u53d6\u5f53\u6708\u76841\u53f7\u548c\u6700\u540e\u4e00\u53f7"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:' export function getcurentMonth(cdate) { //cdate\u4f20\u6765\u7684\u5f53\u524d\u7684\u65f6\u95f4\n  \n   // \u5f53\u5929\n   let thatDay = "";\n   // \u5f53\u6708\u7b2c\u4e00\u5929\n   let oneDayTime = "";\n   // \u5f53\u6708\u6700\u540e\u4e00\u5929\n   let zDay = "";\n   let date = new Date(cdate);\n   let curr_date = date.getDate();\n   let curr_month = date.getMonth() + 1;\n   let curr_year = date.getFullYear();\n   String(curr_month).length < 2 ? (curr_month = "0" + curr_month) : curr_month;\n   String(curr_date).length < 2 ? (curr_date = "0" + curr_date) : curr_date;\n   thatDay = curr_year + "-" + curr_month + "-" + curr_date;\n\n   String(curr_year).length < 2 ? (curr_year = "0" + curr_year) : curr_year;\n   var m = date.getMonth() + 1;\n   String(m).length < 2 ? (m = "0" + m) : m;\n   var d = "01";\n   oneDayTime = curr_year + "-" + m + "-" + d;\n   //\u7ed3\u675f\u65f6\u95f4\n   var currentMonth = date.getMonth();\n   var nextMonth = ++currentMonth;\n   var nextMonthFirstDay = new Date(date.getFullYear(), nextMonth, 1);\n   var oneDay = 1000 * 60 * 60 * 24;\n   var date1 = new Date(nextMonthFirstDay - oneDay);\n   var yy = date1.getFullYear();\n   String(yy).length < 2 ? (yy = "0" + yy) : yy;\n   var mm = date1.getMonth() + 1;\n   String(mm).length < 2 ? (mm = "0" + mm) : mm;\n   var dd = date1.getDate();\n   String(dd).length < 2 ? (dd = "0" + dd) : dd;\n   zDay = yy + "-" + mm + "-" + dd;\n   return [thatDay, oneDayTime, zDay];\n }\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u7684\u5468\u4e00\u5468\u672b\u7684\u65e5\u671f",children:"\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u7684\u5468\u4e00\u3001\u5468\u672b\u7684\u65e5\u671f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'export function getWeeekdata(cdate){  //cdate \u4f20\u6765\u5f53\u524d\u7684\u65f6\u95f4\n   let now = new Date(cdate);\n   let year = now.getFullYear();\n   let month = now.getMonth() + 1;\n   let date = now.getDate();\n   let nowTime = now.getTime();\n   let day = now.getDay();\n   let oneDayTime = 24 * 60 * 60 * 1000;\n   //\u663e\u793a\u5468\u4e00\n   var MondayTime = nowTime - (day - 1) * oneDayTime;\n   //\u663e\u793a\u5468\u65e5\n   var SundayTime = nowTime + (7 - day) * oneDayTime;\n   //\u521d\u59cb\u5316\u65e5\u671f\u65f6\u95f4\n   var monday = new Date(MondayTime);\n   var sunday = new Date(SundayTime);\n   return [format(monday), format(sunday)];\n }\n function format(date) {\n   var time = new Date(date);\n   var y = time.getFullYear();\n   var m =\n     time.getMonth() + 1 < 10 ? "0" + time.getMonth() + 1 : time.getMonth() + 1;\n   var d = time.getDate() < 10 ? "0" + time.getDate() : time.getDate();\n   //var h = time.getHours();\n   //var mm = time.getMinutes();\n   //var s = time.getSeconds();\n   return y + "-" + m + "-" + d;\n }\n\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6587\u4ef6\u4e0b\u8f7d-\u75db\u75bc\u6211\u5341\u51e0\u5e74",children:"\u6587\u4ef6\u4e0b\u8f7d (\u75db\u75bc\u6211\u5341\u51e0\u5e74)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'/**\n * @param: fileType - \u6587\u4ef6\u7c7b\u578b\n * @param: fileName - \u6587\u4ef6\u540d\u79f0\n * @param: data  - \u6570\u636e\u6d41\u6587\u4ef6\n **/\nexport function download(fileType, bucketName,data) {\n  let downType = "";\n  let downName = "";\n  if (fileType == "image") {\n    downType = "image/png";\n    downName = fileName + ".png";\n  } else if (fileType == "word") {\n    downType = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";\n    downName = fileName + ".docx";\n  } else if (fileType == "video") {\n    downType = "video/mpeg4";\n    downName = fileName + ".mp4";\n  } else if (fileType == "radio") {\n    downType = "audio/mpeg";\n    downName = fileName + ".mp3";\n  } else if (fileType == "pdf") {\n    downType = "application/pdf";\n    downName = fileName + ".pdf";\n  }\n  let blob = new Blob([data], { type: downType });\n  let downloadElement = document.createElement("a");\n  let href = window.URL.createObjectURL(blob);\n  downloadElement.href = href;\n  document.body.appendChild(downloadElement);\n  //downloadElement.setAttribute("download", downName);//\u8bbe\u7f6e\u4e0b\u8f7d\u540d\u79f0\n  downloadElement.download = downName; //\u8bbe\u7f6e\u4e0b\u8f7d\u6587\u4ef6\u540d\u79f0\n  downloadElement.click();\n  document.body.removeChild(downloadElement); //\u79fb\u9664\u5143\u7d20\uff1b\u9632\u6b62\u8fde\u7eed\u70b9\u51fb\u521b\u5efa\u591a\u4e2aa\u6807\u7b7e\n  window.URL.revokeObjectURL(href);\n}\n\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var r=t(96540);const a={},i=r.createContext(a);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);